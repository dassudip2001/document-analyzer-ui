<div class="container mx-auto h-screen flex flex-col">
    <div class="relative flex flex-col h-full w-full">
        <!-- chat section -->
        <div class="flex-grow flex flex-col gap-3 p-3 w-full overflow-y-auto max-h-[calc(100vh-80px)] pb-16">
           @for (chat of chatHistory; track $index) {
            @if (chat.from == "user") {
                <div class="text-white bg-slate-700 rounded-lg p-3 ml-auto">{{chat.message}}</div>
            } @else {
                <div class="text-white hover:bg-slate-800 overflow-x-auto p-3 rounded-lg cursor-pointer">
                    <markdown [data]="chat.message"></markdown>
                </div>
            }
           }
        </div>
        <!-- input to collect prompts -->
        <div class="w-full flex border border-slate-500 p-3 rounded-full justify-center gap-2 bg-slate-800 mx-auto fixed bottom-2 left-0 right-0 max-w-2xl">
            <input type="text" [(ngModel)]="prompt" placeholder="Message Gemini" class="bg-transparent flex-grow rounded text-white px-2 h-10 outline-none focus:outline-none">
            <div
                (click)="onSubmit()"
                class="h-[40px] w-[40px] cursor-pointer hover:bg-slate-500 text-slate-400 bg-slate-700 active:bg-midnight-750 hover:bg-midnight-650 flex items-center justify-center font-bold p-1 rounded-full">
                <svg viewBox="0 0 24 24" height="24" width="24" preserveAspectRatio="xMidYMid meet" class=""
                    version="1.1" x="0px" y="0px" enable-background="new 0 0 24 24">
                    <title>send</title>
                    <path fill="currentColor"
                        d="M1.101,21.757L23.8,12.028L1.101,2.3l0.011,7.912l13.623,1.816L1.112,13.845 L1.101,21.757z">
                    </path>
                </svg>
            </div>
        </div>
    </div>
</div>